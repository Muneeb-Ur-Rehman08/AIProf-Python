<div class="hidden w-80 border-l bg-white lg:block absolute right-0 bottom-0 z-50 lg:relative" id="assistant-chat-right-sidebar">
  <div class="flex h-16 items-center justify-between border-b px-4">
    <h2 class="text-xl font-semibold">Notes</h2>
    <button
      class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium shadow-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 lg:hidden"
      _="on click toggle .hidden on #assistant-chat-right-sidebar"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="currentColor"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-x h-5 w-5 rounded-full"
      >
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  <div
    dir="ltr"
    class="relative overflow-hidden h-[calc(100vh-5rem)]"
    style="position: relative; --radix-scroll-area-corner-width: 0px; --radix-scroll-area-corner-height: 0px;"
  >
    <style>
      [data-radix-scroll-area-viewport] {
        scrollbar-width: none;
        -ms-overflow-style: none;
        -webkit-overflow-scrolling: touch;
      }
      [data-radix-scroll-area-viewport]::-webkit-scrollbar {
        display: none;
      }
    </style>
    <div data-radix-scroll-area-viewport class="h-full w-full rounded-[inherit]"  style="overflow: hidden scroll">
      <div style="min-width: 100%; display: table">
        <div class="px-2 py-2 flex gap-2" id="notes-type">
          <button class="inline-flex items-center justify-center gap-1 px-8 py-2 rounded-full text-sm font-medium shadow-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10"
          name="study-guide" id="study-guide"
          hx-post="{%url 'note' assistant.id%}"
          hx-trigger="click"
          hx-swap="afterbegin"
          hx-target="#notes-panel"
          hx-indicator=".header-progress"
          >
            <svg 
              className="w-5 h-5 mr-1" 
              viewBox="0 0 24 24" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
            >
              <path 
                fillRule="evenodd" 
                clipRule="evenodd" 
                d="M12 4L20 8L12 12L4 8L12 4ZM2 8L12 13L22 8L12 3L2 8ZM8 10V14.5L12 16.5L16 14.5V10L12 12L8 10ZM12 18.5L7 16V9L12 11.5L17 9V16L12 18.5Z" 
                fill="currentColor"
              />
            </svg>
            Study Guide
          </button>
          
          <button class="inline-flex items-center justify-center gap-2 px-6 py-2 rounded-full text-sm font-medium shadow-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10"
          name="briefing-doc" id="briefing-doc"
          hx-post="{%url 'note' assistant.id%}"
          hx-trigger="click"
          hx-swap="afterbegin"
          hx-target="#notes-panel"
          hx-indicator=".header-progress"
          >
            <svg 
              className="w-5 h-5 mr-1" 
              viewBox="0 0 24 24" 
              fill="none" 
              xmlns="http://www.w3.org/2000/svg"
            >
              <path 
                d="M19 5V19H5V5H19ZM19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z" 
                fill="currentColor"
              />
              <path 
                d="M14 17H7V15H14V17ZM17 13H7V11H17V13ZM17 9H7V7H17V9Z" 
                fill="currentColor"
              />
            </svg>
            Briefing Doc
          </button>
        </div>

        <div class="px-10 py-2 flex gap-2" id="quiz">
          <button class="inline-flex items-center justify-center gap-2 px-20 py-2 rounded-full text-sm font-medium shadow-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10"
              name="quiz" id="quiz"
              hx-get="{% url 'quiz_generate' assistant.id %}"
              hx-trigger="click"
              hx-swap="innerHTML"
              hx-target="#quiz-content"
              hx-indicator=".header-progress"
              hx-on="htmx:afterRequest: openQuizModal()"
          >
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" class="mr-1">
                <!-- Clipboard background -->
                <rect x="4" y="2" width="16" height="20" rx="2" stroke="currentColor" stroke-width="1.5" fill="none"/>
                <!-- Clipboard top -->
                <path d="M8 2H16V4C16 5.10457 15.1046 6 14 6H10C8.89543 6 8 5.10457 8 4V2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                <!-- Quiz lines -->
                <line x1="9" y1="10" x2="18" y2="10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <line x1="9" y1="14" x2="18" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <line x1="9" y1="18" x2="15" y2="18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <!-- Checkboxes -->
                <rect x="6" y="9" width="2" height="2" rx="0.5" stroke="currentColor" stroke-width="1" fill="none"/>
                <rect x="6" y="13" width="2" height="2" rx="0.5" stroke="currentColor" stroke-width="1" fill="none"/>
                <rect x="6" y="17" width="2" height="2" rx="0.5" stroke="currentColor" stroke-width="1" fill="none"/>
                <!-- Checkmark in middle box -->
                <path d="M6.5 14.2L7.2 15L8.5 13" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
              Quiz
          </button>
        </div>
      
        <div class="p-4" id="notes-panel">
          <!-- Loader Placeholder -->
          <div id="notes-panel-loader" class="flex flex-col gap-8">
            

            <div class="animate-pulse flex flex-col items-center gap-4 w-full p-4 bg-white shadow-lg rounded-xl">
              <div class="flex flex-col items-center w-full">
                <!-- Title Bar Loader (full width) -->
                <div class="w-full h-6 bg-gradient-to-r from-slate-300 to-slate-400 rounded-md mb-2"></div>
                <div class="w-3/5 h-4 bg-gradient-to-r from-slate-300 to-slate-400 mx-auto mt-3 rounded-md"></div>
              </div>
            
              <!-- Full-Width Loader Lines -->
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
            </div>


            <div class="animate-pulse flex flex-col items-center gap-4 w-full p-4 bg-white shadow-lg rounded-xl">
              <div class="flex flex-col items-center w-full">
                <!-- Title Bar Loader (full width) -->
                <div class="w-full h-6 bg-gradient-to-r from-slate-300 to-slate-400 rounded-md mb-2"></div>
                <div class="w-3/5 h-4 bg-gradient-to-r from-slate-300 to-slate-400 mx-auto mt-3 rounded-md"></div>
              </div>
            
              <!-- Full-Width Loader Lines -->
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
              <div class="h-3 bg-gradient-to-r from-slate-300 to-slate-400 w-full rounded-md shadow-sm"></div>
            </div>

          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>

<div id="load-notes" hx-get="{%url 'notes' assistant.id%}" 
     hx-trigger="load" 
     hx-target="#notes-panel" 
     hx-swap="innerHTML" 
     hx-indicator="#notes-panel-loader">
  
  
  
</div>
